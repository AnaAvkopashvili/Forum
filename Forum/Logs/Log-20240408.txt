2024-04-08 11:11:19.420 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:11:49.848 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:11:50.214 +04:00  INF  Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Persons];
2024-04-08 11:11:50.258 +04:00  INF  Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Persons] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-04-08 11:11:50.270 +04:00  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:11:50.330 +04:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-04-08 11:11:50.331 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:11:50.346 +04:00  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:11:50.349 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 11:11:50.359 +04:00  INF  Applying migration '20240408071119_Init'.
2024-04-08 11:11:50.383 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 11:11:50.385 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:11:50.388 +04:00  ERR  Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:18:30.293 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:18:30.525 +04:00  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:18:30.544 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:18:30.547 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:18:30.547 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:18:30.557 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 11:18:30.567 +04:00  INF  Applying migration '20240408071119_Init'.
2024-04-08 11:18:30.610 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 11:18:30.611 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:18:30.615 +04:00  ERR  Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:18:48.073 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:18:48.138 +04:00  INF  Hosting environment: Development
2024-04-08 11:18:48.137 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger - -
2024-04-08 11:18:48.138 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:18:48.415 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:18:48.416 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger - - - 301 - - 281.8410ms
2024-04-08 11:18:48.460 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 45.1432ms
2024-04-08 11:18:48.462 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/swagger-ui.css - -
2024-04-08 11:18:48.464 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/swagger-ui-standalone-preset.js - -
2024-04-08 11:18:48.464 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/swagger-ui-bundle.js - -
2024-04-08 11:18:48.464 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:18:48.466 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 1.9863ms
2024-04-08 11:18:48.472 +04:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-04-08 11:18:48.472 +04:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-04-08 11:18:48.473 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/swagger-ui.css - - - 200 144929 text/css 10.3880ms
2024-04-08 11:18:48.474 +04:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-04-08 11:18:48.474 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:18:48.475 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 11.2789ms
2024-04-08 11:18:48.488 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 23.8690ms
2024-04-08 11:18:48.507 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2170ms
2024-04-08 11:18:48.601 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:18:48.614 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/favicon-32x32.png - -
2024-04-08 11:18:48.615 +04:00  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-04-08 11:18:48.615 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/favicon-32x32.png - - - 200 628 image/png 0.9259ms
2024-04-08 11:18:48.672 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.8551ms
2024-04-08 11:19:37.296 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:19:37.301 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:19:37.332 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:19:37.998 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:19:37.998 +04:00  INF  controller is executed
2024-04-08 11:19:38.708 +04:00  ERR  Failed executing DbCommand (481ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 11:19:38.728 +04:00  ERR  An exception occurred while iterating over the results of a query for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Comments'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:84746c82-3224-4e70-ac81-d4e4b2f8c860
Error Number:208,State:1,Class:16Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Comments'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:84746c82-3224-4e70-ac81-d4e4b2f8c860
Error Number:208,State:1,Class:16

2024-04-08 11:19:38.736 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 1401.1668ms
2024-04-08 11:19:38.736 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:19:38.739 +04:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Comments'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Forum.Infrastructure.Comments.CommentRepository.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Comments\CommentRepository.cs:line 22
   at Forum.Application.Comments.CommentService.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 32
   at Forum.API.Controllers.CommentController.GetAll(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 34
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:84746c82-3224-4e70-ac81-d4e4b2f8c860
Error Number:208,State:1,Class:16

2024-04-08 11:19:38.768 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 500 - text/plain;+charset=utf-8 1471.6584ms
2024-04-08 11:20:05.574 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:20:14.056 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:20:14.302 +04:00  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:20:14.320 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:20:14.322 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:20:14.323 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:20:14.333 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 11:20:14.344 +04:00  INF  Applying migration '20240408072005_Init'.
2024-04-08 11:20:14.388 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 11:20:14.389 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:20:14.393 +04:00  ERR  Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-04-08 11:28:48.251 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:28:55.292 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:28:55.522 +04:00  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:28:55.542 +04:00  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:28:55.544 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:28:55.545 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:28:55.555 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 11:28:55.566 +04:00  INF  Applying migration '20240408072848_Init'.
2024-04-08 11:28:55.610 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 11:28:55.613 +04:00  ERR  Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE SET NULL
);
2024-04-08 11:29:55.285 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:30:01.820 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:30:02.061 +04:00  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:30:02.079 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:30:02.081 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 11:30:02.082 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 11:30:02.092 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 11:30:02.103 +04:00  INF  Applying migration '20240408072955_Init'.
2024-04-08 11:30:02.146 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 11:30:02.148 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-08 11:30:02.149 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-04-08 11:30:02.149 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_TopicId] ON [Comments] ([TopicId]);
2024-04-08 11:30:02.150 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_UserId] ON [Comments] ([UserId]);
2024-04-08 11:30:02.150 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Topics_UserId] ON [Topics] ([UserId]);
2024-04-08 11:30:02.151 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2024-04-08 11:30:02.151 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2024-04-08 11:30:02.152 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240408072955_Init', N'6.0.28');
2024-04-08 11:35:08.207 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:35:08.218 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:35:08.230 +04:00  INF  Hosting environment: Development
2024-04-08 11:35:08.230 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:35:08.355 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 138.7050ms
2024-04-08 11:35:08.357 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:35:08.359 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.0283ms
2024-04-08 11:35:08.361 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:35:08.384 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.8255ms
2024-04-08 11:35:08.503 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:35:08.571 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 68.5293ms
2024-04-08 11:35:13.446 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:35:13.451 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:35:13.466 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:35:13.982 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:35:13.982 +04:00  INF  controller is executed
2024-04-08 11:35:14.310 +04:00  ERR  An error occurred using the connection to database 'ForumDB' on server '(localdb)\MSSQLLocalDB'.
2024-04-08 11:35:14.324 +04:00  ERR  An exception occurred while iterating over the results of a query for context type 'Forum.Persistence.Context.ForumContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:31321c93-63ac-47cb-9eb4-9422646065f5
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:31321c93-63ac-47cb-9eb4-9422646065f5
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()

2024-04-08 11:35:14.333 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 863.9509ms
2024-04-08 11:35:14.335 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:35:14.337 +04:00  ERR  An unhandled exception has occurred while executing the request.System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:31321c93-63ac-47cb-9eb4-9422646065f5
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Forum.Infrastructure.Comments.CommentRepository.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Comments\CommentRepository.cs:line 22
   at Forum.Application.Comments.CommentService.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 32
   at Forum.API.Controllers.CommentController.GetAll(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 34
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-04-08 11:35:14.365 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 500 - text/plain;+charset=utf-8 918.8754ms
2024-04-08 11:37:13.921 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:37:13.921 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:37:13.921 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:37:13.948 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:37:13.948 +04:00  INF  controller is executed
2024-04-08 11:37:13.953 +04:00  ERR  An error occurred using the connection to database 'ForumDB' on server '(localdb)\MSSQLLocalDB'.
2024-04-08 11:37:13.954 +04:00  ERR  An exception occurred while iterating over the results of a query for context type 'Forum.Persistence.Context.ForumContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:2240c9e9-51b0-4153-8260-a2227ca0d683
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:2240c9e9-51b0-4153-8260-a2227ca0d683
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()

2024-04-08 11:37:13.955 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 34.1049ms
2024-04-08 11:37:13.956 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:37:13.956 +04:00  ERR  An unhandled exception has occurred while executing the request.System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "ForumDB" requested by the login. The login failed.
Login failed for user 'EJOI-3\Kiuadmin'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:2240c9e9-51b0-4153-8260-a2227ca0d683
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Forum.Infrastructure.Comments.CommentRepository.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Comments\CommentRepository.cs:line 22
   at Forum.Application.Comments.CommentService.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 32
   at Forum.API.Controllers.CommentController.GetAll(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 34
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-04-08 11:37:13.959 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 500 - text/plain;+charset=utf-8 38.1851ms
2024-04-08 11:37:21.005 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:37:21.017 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:37:21.028 +04:00  INF  Hosting environment: Development
2024-04-08 11:37:21.028 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:37:21.154 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 139.4044ms
2024-04-08 11:37:21.157 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:37:21.157 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:37:21.159 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.3152ms
2024-04-08 11:37:21.180 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6674ms
2024-04-08 11:37:21.219 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:37:21.285 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 65.8265ms
2024-04-08 11:37:24.891 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:37:24.897 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:37:24.925 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:37:25.497 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:37:25.497 +04:00  INF  controller is executed
2024-04-08 11:37:25.792 +04:00  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId]
FROM [Comments] AS [c]
2024-04-08 11:37:25.894 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 11:37:25.899 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 970.4585ms
2024-04-08 11:37:25.899 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:37:25.902 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 1010.3904ms
2024-04-08 11:38:00.013 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:38:00.024 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:38:00.037 +04:00  INF  Hosting environment: Development
2024-04-08 11:38:00.037 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:38:00.161 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 139.4990ms
2024-04-08 11:38:00.164 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:38:00.164 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:38:00.166 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.2099ms
2024-04-08 11:38:00.187 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.6057ms
2024-04-08 11:38:00.206 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:38:00.267 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 60.7496ms
2024-04-08 11:38:06.044 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:38:06.048 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:38:06.064 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:38:06.589 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:38:06.589 +04:00  INF  controller is executed
2024-04-08 11:38:06.944 +04:00  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 11:38:58.544 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:38:58.555 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:38:58.566 +04:00  INF  Hosting environment: Development
2024-04-08 11:38:58.566 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:38:58.688 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 134.7079ms
2024-04-08 11:38:58.689 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:38:58.690 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:38:58.692 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.1385ms
2024-04-08 11:38:58.712 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.2658ms
2024-04-08 11:38:58.750 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:38:58.821 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.8078ms
2024-04-08 11:39:02.097 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:39:02.101 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:39:02.117 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:39:02.624 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:39:02.624 +04:00  INF  controller is executed
2024-04-08 11:39:02.971 +04:00  INF  Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 11:44:38.401 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:44:38.412 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:44:38.425 +04:00  INF  Hosting environment: Development
2024-04-08 11:44:38.425 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:44:39.074 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 663.4080ms
2024-04-08 11:44:39.076 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:44:39.078 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.2800ms
2024-04-08 11:44:39.079 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:44:39.105 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1381ms
2024-04-08 11:44:39.139 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:44:39.206 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 66.5245ms
2024-04-08 11:44:43.776 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment/1 - -
2024-04-08 11:44:43.781 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 11:44:43.797 +04:00  INF  Route matched with {action = "Get", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Forum.Application.Comments.Responses.CommentResponseModel] Get(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:44:44.550 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:44:44.551 +04:00  INF  controller is executed
2024-04-08 11:44:45.229 +04:00  INF  Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-04-08 11:44:45.316 +04:00  INF  Executing ObjectResult, writing value of type 'Forum.Application.Comments.Responses.CommentResponseModel'.
2024-04-08 11:44:45.321 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Get (Forum.API) in 1520.976ms
2024-04-08 11:44:45.322 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 11:44:45.324 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment/1 - - - 200 - application/json;+charset=utf-8 1547.7133ms
2024-04-08 11:44:55.745 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 11:44:55.745 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:44:55.747 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:44:55.776 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:44:55.776 +04:00  INF  controller is executed
2024-04-08 11:44:55.786 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId]
FROM [Comments] AS [c]
2024-04-08 11:44:55.798 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 11:44:55.798 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 51.0698ms
2024-04-08 11:44:55.799 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 11:44:55.799 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 54.1443ms
2024-04-08 11:50:37.492 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 11:50:37.503 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 11:50:37.514 +04:00  INF  Hosting environment: Development
2024-04-08 11:50:37.514 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 11:50:37.635 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 134.5151ms
2024-04-08 11:50:37.637 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 11:50:37.637 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 11:50:37.639 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.2818ms
2024-04-08 11:50:37.659 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.1412ms
2024-04-08 11:50:37.732 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 11:50:37.792 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 60.0122ms
2024-04-08 11:50:59.680 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 29
2024-04-08 11:50:59.685 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 11:50:59.703 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 11:51:00.226 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 11:51:00.226 +04:00  INF  controller is executed
2024-04-08 11:51:00.583 +04:00  ERR  Failed executing DbCommand (38ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 11:51:00.613 +04:00  ERR  An exception occurred in the database while saving changes for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Comments_Topics_TopicId". The conflict occurred in database "Persons", table "dbo.Topics", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:91fe6741-7128-446c-b548-955c9b2710f9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Comments_Topics_TopicId". The conflict occurred in database "Persons", table "dbo.Topics", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:91fe6741-7128-446c-b548-955c9b2710f9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-04-08 11:51:00.622 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 915.6037ms
2024-04-08 11:51:00.622 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 11:51:00.624 +04:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Comments_Topics_TopicId". The conflict occurred in database "Persons", table "dbo.Topics", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:91fe6741-7128-446c-b548-955c9b2710f9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Forum.Infrastructure.BaseRepository`1.CreateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 30
   at Forum.Infrastructure.Comments.CommentRepository.CreateAsync(CancellationToken cancellationToken, Comment comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Comments\CommentRepository.cs:line 26
   at Forum.Application.Comments.CommentService.CreateAsync(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 39
   at Forum.API.Controllers.CommentController.Post(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 40
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-04-08 11:51:00.652 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Comment application/json 29 - 500 - text/plain;+charset=utf-8 972.3680ms
2024-04-08 12:11:05.729 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 12:11:05.741 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 12:11:05.752 +04:00  INF  Hosting environment: Development
2024-04-08 12:11:05.752 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 12:11:05.878 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 138.8703ms
2024-04-08 12:11:05.879 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 12:11:05.879 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 12:11:05.881 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 2.4317ms
2024-04-08 12:11:05.903 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.2518ms
2024-04-08 12:11:05.975 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 12:11:06.044 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 68.2220ms
2024-04-08 12:22:54.660 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 12:22:54.665 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 12:22:54.681 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 12:22:55.213 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 12:22:55.213 +04:00  INF  controller is executed
2024-04-08 12:22:55.513 +04:00  INF  Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId]
FROM [Comments] AS [c]
2024-04-08 12:22:55.614 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 12:22:55.619 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 934.5226ms
2024-04-08 12:22:55.619 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 12:22:55.622 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 962.4744ms
2024-04-08 13:41:10.926 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 13:41:10.970 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 13:41:10.970 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 13:41:11.001 +04:00  INF  Hosting environment: Development
2024-04-08 13:41:11.001 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 13:41:11.332 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 368.1463ms
2024-04-08 13:41:11.332 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 368.1458ms
2024-04-08 13:41:11.344 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 13:41:11.344 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 13:41:11.351 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 6.0549ms
2024-04-08 13:41:11.397 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.2750ms
2024-04-08 13:41:11.568 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 13:41:11.697 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.7834ms
2024-04-08 13:41:21.730 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment/1 - -
2024-04-08 13:41:21.739 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:41:21.780 +04:00  INF  Route matched with {action = "Get", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Forum.Application.Comments.Responses.CommentResponseModel] Get(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:41:22.755 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 13:41:22.892 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 13:41:23.165 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:41:23.167 +04:00  INF  controller is executed
2024-04-08 13:41:24.138 +04:00  INF  Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[Id] = @__id_0
2024-04-08 13:41:24.376 +04:00  INF  Executing ObjectResult, writing value of type 'Forum.Application.Comments.Responses.CommentResponseModel'.
2024-04-08 13:41:24.389 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Get (Forum.API) in 2601.1097ms
2024-04-08 13:41:24.391 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:41:24.397 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment/1 - - - 200 - application/json;+charset=utf-8 2667.2992ms
2024-04-08 13:41:43.475 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 56
2024-04-08 13:41:43.476 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 13:41:43.490 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:41:43.551 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:41:43.552 +04:00  INF  controller is executed
2024-04-08 13:41:43.794 +04:00  INF  Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 13:41:43.851 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 361.4804ms
2024-04-08 13:41:43.852 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 13:41:43.853 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Comment application/json 56 - 200 - - 377.5605ms
2024-04-08 13:41:51.133 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:41:51.133 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:41:51.138 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:41:51.154 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:41:51.154 +04:00  INF  controller is executed
2024-04-08 13:41:51.178 +04:00  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 13:41:51.203 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:41:51.204 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 65.7341ms
2024-04-08 13:41:51.204 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:41:51.204 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 71.3373ms
2024-04-08 13:43:31.334 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 13:43:31.360 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 13:43:31.393 +04:00  INF  Hosting environment: Development
2024-04-08 13:43:31.393 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 13:43:31.717 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 362.6826ms
2024-04-08 13:43:31.719 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 13:43:31.720 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 13:43:31.726 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 6.0411ms
2024-04-08 13:43:31.773 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.2775ms
2024-04-08 13:43:31.992 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 13:43:32.128 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.2633ms
2024-04-08 13:43:36.788 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:43:36.799 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:43:36.837 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:43:37.738 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 13:43:37.882 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 13:43:38.158 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:43:38.159 +04:00  INF  controller is executed
2024-04-08 13:43:38.876 +04:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId]
FROM [Comments] AS [c]
2024-04-08 13:43:39.089 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:43:39.100 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 2256.1278ms
2024-04-08 13:43:39.101 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:43:39.108 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 2320.2590ms
2024-04-08 13:45:13.516 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 13:45:13.542 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 13:45:13.572 +04:00  INF  Hosting environment: Development
2024-04-08 13:45:13.573 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 13:45:13.867 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 13:45:13.867 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 331.6174ms
2024-04-08 13:45:13.867 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 13:45:13.872 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 5.4441ms
2024-04-08 13:45:13.918 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.2828ms
2024-04-08 13:45:13.961 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 13:45:14.110 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.7791ms
2024-04-08 13:45:20.565 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:45:20.575 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:45:20.615 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:45:21.522 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 13:45:21.662 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 13:45:21.953 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:45:21.955 +04:00  INF  controller is executed
2024-04-08 13:45:22.808 +04:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 13:45:23.085 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:45:23.099 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 2476.4559ms
2024-04-08 13:45:23.100 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:45:23.106 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 2540.9263ms
2024-04-08 13:51:30.027 +04:00  INF  Request starting HTTP/2 DELETE https://localhost:44389/api/Comment?id=1 - -
2024-04-08 13:51:30.027 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Delete (Forum.API)'
2024-04-08 13:51:30.034 +04:00  INF  Route matched with {action = "Delete", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Delete(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:51:30.097 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:51:30.098 +04:00  INF  controller is executed
2024-04-08 13:51:30.200 +04:00  INF  Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[Id] = @__id_0
2024-04-08 13:51:30.373 +04:00  INF  Executed DbCommand (23ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Comments] SET [Content] = @p0, [IsDeleted] = @p1, [TopicId] = @p2, [UserId] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2024-04-08 13:51:30.401 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Delete (Forum.API) in 366.7798ms
2024-04-08 13:51:30.402 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Delete (Forum.API)'
2024-04-08 13:51:30.403 +04:00  INF  Request finished HTTP/2 DELETE https://localhost:44389/api/Comment?id=1 - - - 200 - - 376.2595ms
2024-04-08 13:51:38.256 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:51:38.256 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:51:38.256 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:51:38.273 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:51:38.273 +04:00  INF  controller is executed
2024-04-08 13:51:38.281 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 13:51:38.282 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:51:38.284 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 26.9939ms
2024-04-08 13:51:38.284 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:51:38.285 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 28.5876ms
2024-04-08 13:51:51.672 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment/3 - -
2024-04-08 13:51:51.672 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:51:51.680 +04:00  INF  Route matched with {action = "Get", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Forum.Application.Comments.Responses.CommentResponseModel] Get(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:51:51.681 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:51:51.681 +04:00  INF  controller is executed
2024-04-08 13:51:51.685 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[Id] = @__id_0
2024-04-08 13:51:51.693 +04:00  INF  Executing ObjectResult, writing value of type 'Forum.Application.Comments.Responses.CommentResponseModel'.
2024-04-08 13:51:51.694 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Get (Forum.API) in 14.0539ms
2024-04-08 13:51:51.694 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:51:51.694 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment/3 - - - 200 - application/json;+charset=utf-8 22.6104ms
2024-04-08 13:51:59.737 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment/1 - -
2024-04-08 13:51:59.737 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:51:59.737 +04:00  INF  Route matched with {action = "Get", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Forum.Application.Comments.Responses.CommentResponseModel] Get(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:51:59.738 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:51:59.738 +04:00  INF  controller is executed
2024-04-08 13:51:59.743 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[Id] = @__id_0
2024-04-08 13:51:59.748 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Get (Forum.API) in 11.0324ms
2024-04-08 13:51:59.749 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:51:59.767 +04:00  ERR  An unhandled exception has occurred while executing the request.Forum.Application.Exceptions.Comments.CommentNotFound: Comment with this ID: 1 was not found!
   at Forum.Application.Comments.CommentService.GetAsync(CancellationToken cancellationToken, Int32 id) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 24
   at Forum.API.Controllers.CommentController.Get(CancellationToken cancellationToken, Int32 id) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 28
   at lambda_method164(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-04-08 13:51:59.824 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment/1 - - - 500 - text/plain;+charset=utf-8 87.3323ms
2024-04-08 13:53:30.061 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 13:53:30.089 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 13:53:30.117 +04:00  INF  Hosting environment: Development
2024-04-08 13:53:30.118 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 13:53:30.421 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 338.2045ms
2024-04-08 13:53:30.425 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 13:53:30.426 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 13:53:30.432 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 6.0560ms
2024-04-08 13:53:30.476 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.5508ms
2024-04-08 13:53:30.645 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 13:53:30.780 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.6651ms
2024-04-08 13:53:36.623 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment/1 - -
2024-04-08 13:53:36.634 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:53:36.672 +04:00  INF  Route matched with {action = "Get", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Forum.Application.Comments.Responses.CommentResponseModel] Get(System.Threading.CancellationToken, Int32) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:53:37.565 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 13:53:37.702 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 13:53:37.979 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:53:37.981 +04:00  INF  controller is executed
2024-04-08 13:53:38.871 +04:00  INF  Executed DbCommand (71ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[Id] = @__id_0
2024-04-08 13:53:39.031 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Get (Forum.API) in 2350.7359ms
2024-04-08 13:53:39.032 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Get (Forum.API)'
2024-04-08 13:53:39.237 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment/1 - - - 404 - application/json 2613.8643ms
2024-04-08 13:54:08.142 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:54:08.142 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:54:08.149 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:54:08.212 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:54:08.213 +04:00  INF  controller is executed
2024-04-08 13:54:08.241 +04:00  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 13:54:08.362 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:54:08.367 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 217.8937ms
2024-04-08 13:54:08.368 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:54:08.368 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 226.4881ms
2024-04-08 13:54:18.727 +04:00  INF  Request starting HTTP/2 PUT https://localhost:44389/api/Comment application/json 67
2024-04-08 13:54:18.727 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Put (Forum.API)'
2024-04-08 13:54:18.735 +04:00  INF  Route matched with {action = "Put", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Put(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPutModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:54:18.752 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:54:18.752 +04:00  INF  controller is executed
2024-04-08 13:54:18.806 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Comments] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-08 13:54:18.977 +04:00  ERR  Failed executing DbCommand (24ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Comments] SET [Content] = @p0, [IsDeleted] = @p1, [TopicId] = @p2, [UserId] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2024-04-08 13:54:19.013 +04:00  ERR  An exception occurred in the database while saving changes for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Comments_Topics_TopicId". The conflict occurred in database "Persons", table "dbo.Topics", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8fedd3b6-55c0-43a2-8322-423480e54735
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Comments_Topics_TopicId". The conflict occurred in database "Persons", table "dbo.Topics", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8fedd3b6-55c0-43a2-8322-423480e54735
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-04-08 13:54:19.022 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Put (Forum.API) in 286.6401ms
2024-04-08 13:54:19.022 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Put (Forum.API)'
2024-04-08 13:54:19.026 +04:00  INF  Request finished HTTP/2 PUT https://localhost:44389/api/Comment application/json 67 - 500 - application/json 298.7271ms
2024-04-08 13:54:28.379 +04:00  INF  Request starting HTTP/2 PUT https://localhost:44389/api/Comment application/json 67
2024-04-08 13:54:28.380 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Put (Forum.API)'
2024-04-08 13:54:28.380 +04:00  INF  Route matched with {action = "Put", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Put(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPutModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:54:28.381 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:54:28.381 +04:00  INF  controller is executed
2024-04-08 13:54:28.390 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Comments] AS [c]
        WHERE [c].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-08 13:54:28.398 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Comments] SET [Content] = @p0, [IsDeleted] = @p1, [TopicId] = @p2, [UserId] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2024-04-08 13:54:28.434 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Put (Forum.API) in 53.8438ms
2024-04-08 13:54:28.434 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Put (Forum.API)'
2024-04-08 13:54:28.435 +04:00  INF  Request finished HTTP/2 PUT https://localhost:44389/api/Comment application/json 67 - 200 - - 55.6028ms
2024-04-08 13:54:44.234 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 13:54:44.235 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:54:44.235 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 13:54:44.236 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 13:54:44.236 +04:00  INF  controller is executed
2024-04-08 13:54:44.240 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 13:54:44.241 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 13:54:44.242 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 7.0519ms
2024-04-08 13:54:44.242 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 13:54:44.242 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 8.2357ms
2024-04-08 14:49:39.358 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 14:49:39.386 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 14:49:39.416 +04:00  INF  Hosting environment: Development
2024-04-08 14:49:39.417 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 14:49:39.714 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 335.3395ms
2024-04-08 14:49:39.719 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 14:49:39.721 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 14:49:39.725 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 5.2239ms
2024-04-08 14:49:39.773 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.3909ms
2024-04-08 14:49:40.054 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 14:49:40.233 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.3224ms
2024-04-08 14:49:46.039 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Topic - -
2024-04-08 14:49:46.048 +04:00  INF  Logging request from middleware
2024-04-08 14:49:46.070 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:49:46 AM

2024-04-08 14:49:46.072 +04:00  INF  Logging response from middleware
2024-04-08 14:49:46.072 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:49:46 AM

2024-04-08 14:49:46.081 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 14:49:46.119 +04:00  INF  Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Topics.Responses.TopicResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:49:46.130 +04:00  INF  Executed action Forum.API.Controllers.TopicController.GetAll (Forum.API) in 3.4307ms
2024-04-08 14:49:46.133 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 14:49:46.135 +04:00  ERR  HTTP GET /api/Topic responded 500 in 88.9693 msSystem.InvalidOperationException: Unable to resolve service for type 'Forum.Application.Topics.ITopicService' while attempting to activate 'Forum.API.Controllers.TopicController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 14:49:46.404 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Topic - - - 500 - application/json 364.9541ms
2024-04-08 14:50:26.414 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Topic application/json 156
2024-04-08 14:50:26.416 +04:00  INF  Logging request from middleware
2024-04-08 14:50:26.417 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:50:26 AM

2024-04-08 14:50:26.417 +04:00  INF  Logging response from middleware
2024-04-08 14:50:26.417 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:50:26 AM

2024-04-08 14:50:26.417 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:50:26.423 +04:00  INF  Route matched with {action = "Post", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Topics.Requests.TopicRequestPostModel) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:50:26.424 +04:00  INF  Executed action Forum.API.Controllers.TopicController.Post (Forum.API) in 0.303ms
2024-04-08 14:50:26.424 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:50:26.424 +04:00  ERR  HTTP POST /api/Topic responded 500 in 7.7698 msSystem.InvalidOperationException: Unable to resolve service for type 'Forum.Application.Topics.ITopicService' while attempting to activate 'Forum.API.Controllers.TopicController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method33(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 14:50:26.427 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Topic application/json 156 - 500 - application/json 12.3376ms
2024-04-08 14:50:55.954 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 14:50:55.988 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 14:50:56.039 +04:00  INF  Hosting environment: Development
2024-04-08 14:50:56.041 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 14:50:56.593 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 612.8347ms
2024-04-08 14:50:56.594 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 14:50:56.615 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 14:50:56.634 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 39.7488ms
2024-04-08 14:50:56.737 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 122.4294ms
2024-04-08 14:50:56.812 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 14:50:57.112 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 300.0108ms
2024-04-08 14:51:07.284 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Topic application/json 156
2024-04-08 14:51:07.297 +04:00  INF  Logging request from middleware
2024-04-08 14:51:07.308 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:51:07 AM

2024-04-08 14:51:07.309 +04:00  INF  Logging response from middleware
2024-04-08 14:51:07.309 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:51:07 AM

2024-04-08 14:51:07.321 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:51:07.374 +04:00  INF  Route matched with {action = "Post", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Topics.Requests.TopicRequestPostModel) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:51:07.387 +04:00  INF  Executed action Forum.API.Controllers.TopicController.Post (Forum.API) in 3.6766ms
2024-04-08 14:51:07.398 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:51:07.475 +04:00  ERR  HTTP POST /api/Topic responded 500 in 176.0428 msSystem.InvalidOperationException: Unable to resolve service for type 'Forum.Application.Topics.ITopicService' while attempting to activate 'Forum.API.Controllers.TopicController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 14:51:07.966 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Topic application/json 156 - 500 - application/json 682.2763ms
2024-04-08 14:52:56.324 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 14:52:56.355 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 14:52:56.378 +04:00  INF  Hosting environment: Development
2024-04-08 14:52:56.379 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 14:52:56.686 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 336.5978ms
2024-04-08 14:52:56.699 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 14:52:56.705 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 5.6071ms
2024-04-08 14:52:56.710 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 14:52:56.766 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.5102ms
2024-04-08 14:52:56.852 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 14:52:56.999 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.9244ms
2024-04-08 14:53:06.642 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Topic - -
2024-04-08 14:53:06.649 +04:00  INF  Logging request from middleware
2024-04-08 14:53:06.658 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:53:06 AM

2024-04-08 14:53:06.659 +04:00  INF  Logging response from middleware
2024-04-08 14:53:06.659 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:53:06 AM

2024-04-08 14:53:06.668 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 14:53:06.707 +04:00  INF  Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Topics.Responses.TopicResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:53:07.628 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 14:53:07.771 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 14:53:08.064 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 14:53:08.065 +04:00  INF  controller is executed
2024-04-08 14:53:08.999 +04:00  ERR  Failed executing DbCommand (377ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId1], [t].[UserIdId], [t0].[Id], [t0].[Content], [t0].[IsDeleted], [t0].[TopicId], [t0].[UserId], [t0].[Id0], [t0].[Email], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[Password], [t0].[Username]
FROM [Topics] AS [t]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t0] ON [t].[Id] = [t0].[TopicId]
ORDER BY [t].[Id], [t0].[Id]
2024-04-08 14:53:09.040 +04:00  ERR  An exception occurred while iterating over the results of a query for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:207,State:1,Class:16Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:207,State:1,Class:16

2024-04-08 14:53:09.060 +04:00  INF  Executed action Forum.API.Controllers.TopicController.GetAll (Forum.API) in 2344.6629ms
2024-04-08 14:53:09.061 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 14:53:09.064 +04:00  ERR  HTTP GET /api/Topic responded 500 in 2415.8870 msMicrosoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Forum.Infrastructure.Topics.TopicRepository.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 15
   at Forum.Application.Topics.TopicService.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 19
   at Forum.API.Controllers.TopicController.GetAll(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\TopicContoller.cs:line 28
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:207,State:1,Class:16

2024-04-08 14:53:09.330 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Topic - - - 500 - application/json 2688.7236ms
2024-04-08 14:53:30.864 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Topic application/json 156
2024-04-08 14:53:30.866 +04:00  INF  Logging request from middleware
2024-04-08 14:53:30.866 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:53:30 AM

2024-04-08 14:53:30.866 +04:00  INF  Logging response from middleware
2024-04-08 14:53:30.866 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:53:30 AM

2024-04-08 14:53:30.866 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:53:30.873 +04:00  INF  Route matched with {action = "Post", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Topics.Requests.TopicRequestPostModel) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:53:30.934 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 14:53:30.935 +04:00  INF  controller is executed
2024-04-08 14:53:31.492 +04:00  ERR  Failed executing DbCommand (65ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 50) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [Gender], [LastName], [Password], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 14:53:31.509 +04:00  ERR  An exception occurred in the database while saving changes for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-04-08 14:53:31.515 +04:00  INF  Executed action Forum.API.Controllers.TopicController.Post (Forum.API) in 641.6016ms
2024-04-08 14:53:31.515 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:53:31.516 +04:00  ERR  HTTP POST /api/Topic responded 500 in 650.0290 msMicrosoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:568efd1a-c273-4de0-851f-b5a9ea64c5a9
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Forum.Infrastructure.BaseRepository`1.CreateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 30
   at Forum.Infrastructure.Topics.TopicRepository.CreateAsync(CancellationToken cancellationToken, Topic topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 21
   at Forum.Application.Topics.TopicService.CreateAsync(CancellationToken cancellationToken, TopicRequestPostModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 26
   at Forum.API.Controllers.TopicController.Post(CancellationToken cancellationToken, TopicRequestPostModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\TopicContoller.cs:line 34
   at lambda_method48(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 14:53:31.526 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Topic application/json 156 - 500 - application/json 662.5610ms
2024-04-08 14:53:54.268 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 14:53:54.345 +04:00  INF  Hosting environment: Development
2024-04-08 14:53:54.308 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 14:53:54.347 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 14:53:54.922 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 14:53:54.923 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 14:53:54.932 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 632.8236ms
2024-04-08 14:53:54.950 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 27.5926ms
2024-04-08 14:53:55.066 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 143.0633ms
2024-04-08 14:53:55.135 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 14:53:55.384 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.7591ms
2024-04-08 14:54:17.266 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Topic application/json 156
2024-04-08 14:54:17.288 +04:00  INF  Logging request from middleware
2024-04-08 14:54:17.301 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 10:54:17 AM

2024-04-08 14:54:17.303 +04:00  INF  Logging response from middleware
2024-04-08 14:54:17.303 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 10:54:17 AM

2024-04-08 14:54:17.315 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:54:17.365 +04:00  INF  Route matched with {action = "Post", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Topics.Requests.TopicRequestPostModel) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 14:54:18.915 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 14:54:19.094 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 14:54:19.501 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 14:54:19.503 +04:00  INF  controller is executed
2024-04-08 14:54:38.658 +04:00  ERR  Failed executing DbCommand (248ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 50) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [Gender], [LastName], [Password], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 14:54:38.799 +04:00  ERR  An exception occurred in the database while saving changes for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11af26d-84d5-4eab-9fff-7bdf7ae8312e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11af26d-84d5-4eab-9fff-7bdf7ae8312e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-04-08 14:54:39.479 +04:00  INF  Executed action Forum.API.Controllers.TopicController.Post (Forum.API) in 22105.7374ms
2024-04-08 14:54:39.484 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 14:54:39.793 +04:00  ERR  HTTP POST /api/Topic responded 500 in 22504.8786 msMicrosoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'Persons.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11af26d-84d5-4eab-9fff-7bdf7ae8312e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Forum.Infrastructure.BaseRepository`1.CreateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 30
   at Forum.Infrastructure.Topics.TopicRepository.CreateAsync(CancellationToken cancellationToken, Topic topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 21
   at Forum.Application.Topics.TopicService.CreateAsync(CancellationToken cancellationToken, TopicRequestPostModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 26
   at Forum.API.Controllers.TopicController.Post(CancellationToken cancellationToken, TopicRequestPostModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\TopicContoller.cs:line 34
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 15:04:06.624 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 15:04:06.655 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 15:04:06.697 +04:00  INF  Hosting environment: Development
2024-04-08 15:04:06.698 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 15:04:07.211 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 15:04:07.216 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 568.2517ms
2024-04-08 15:04:07.232 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 15:04:07.243 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 27.6212ms
2024-04-08 15:04:07.367 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 134.7942ms
2024-04-08 15:04:07.435 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 15:04:07.697 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 261.8967ms
2024-04-08 15:04:11.457 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Topic - -
2024-04-08 15:04:11.469 +04:00  INF  Logging request from middleware
2024-04-08 15:04:11.480 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 11:04:11 AM

2024-04-08 15:04:11.482 +04:00  INF  Logging response from middleware
2024-04-08 15:04:11.482 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 11:04:11 AM

2024-04-08 15:04:11.493 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 15:04:11.542 +04:00  INF  Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Topics.Responses.TopicResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 15:04:13.028 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:04:13.217 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:04:13.624 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:04:13.625 +04:00  INF  controller is executed
2024-04-08 15:04:30.325 +04:00  ERR  Failed executing DbCommand (818ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId1], [t].[UserIdId], [t0].[Id], [t0].[Content], [t0].[IsDeleted], [t0].[TopicId], [t0].[UserId], [t0].[Id0], [t0].[Email], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[Password], [t0].[Username]
FROM [Topics] AS [t]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t0] ON [t].[Id] = [t0].[TopicId]
ORDER BY [t].[Id], [t0].[Id]
2024-04-08 15:04:30.424 +04:00  ERR  An exception occurred while iterating over the results of a query for context type 'Forum.Persistence.Context.ForumContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52730afc-73f6-40ea-85d5-6e152ed28d43
Error Number:207,State:1,Class:16Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52730afc-73f6-40ea-85d5-6e152ed28d43
Error Number:207,State:1,Class:16

2024-04-08 15:04:30.929 +04:00  INF  Executed action Forum.API.Controllers.TopicController.GetAll (Forum.API) in 19376.9323ms
2024-04-08 15:04:30.933 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 15:04:31.185 +04:00  ERR  HTTP GET /api/Topic responded 500 in 19713.9840 msMicrosoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
Invalid column name 'UserIdId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Forum.Infrastructure.Topics.TopicRepository.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 15
   at Forum.Application.Topics.TopicService.GetAllAsync(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 19
   at Forum.API.Controllers.TopicController.GetAll(CancellationToken cancellationToken) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\TopicContoller.cs:line 28
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:52730afc-73f6-40ea-85d5-6e152ed28d43
Error Number:207,State:1,Class:16

2024-04-08 15:06:51.941 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:06:52.137 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:06:52.393 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:07:02.395 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:07:02.590 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:07:02.895 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:07:02.929 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:07:02.930 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:08:15.379 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:08:15.583 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:08:15.866 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:08:15.900 +04:00  WRN  There are multiple relationships between 'Topic' and 'User' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'Topic' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-04-08 15:08:15.903 +04:00  WRN  The foreign key property 'Topic.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-04-08 15:17:35.097 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:17:49.217 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:17:50.934 +04:00  INF  Executed DbCommand (165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Forum];
2024-04-08 15:17:51.003 +04:00  INF  Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Forum] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-04-08 15:17:51.026 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 15:17:51.195 +04:00  INF  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-04-08 15:17:51.198 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 15:17:51.236 +04:00  INF  Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 15:17:51.244 +04:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 15:17:51.270 +04:00  INF  Applying migration '20240408111735_Init'.
2024-04-08 15:17:51.325 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 15:17:51.328 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-08 15:17:51.331 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-04-08 15:17:51.332 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_TopicId] ON [Comments] ([TopicId]);
2024-04-08 15:17:51.333 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_UserId] ON [Comments] ([UserId]);
2024-04-08 15:17:51.334 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Topics_UserId] ON [Topics] ([UserId]);
2024-04-08 15:17:51.334 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2024-04-08 15:17:51.335 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2024-04-08 15:17:51.337 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240408111735_Init', N'6.0.28');
2024-04-08 15:18:56.292 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 15:18:56.326 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 15:18:56.354 +04:00  INF  Hosting environment: Development
2024-04-08 15:18:56.355 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 15:18:56.646 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 326.1728ms
2024-04-08 15:18:56.662 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 15:18:56.669 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 6.6249ms
2024-04-08 15:18:56.672 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 15:18:56.724 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.1581ms
2024-04-08 15:18:56.802 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 15:18:56.969 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.3783ms
2024-04-08 15:19:45.173 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 15:19:45.181 +04:00  INF  Logging request from middleware
2024-04-08 15:19:45.190 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 11:19:45 AM

2024-04-08 15:19:45.191 +04:00  INF  Logging response from middleware
2024-04-08 15:19:45.192 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 11:19:45 AM

2024-04-08 15:19:45.200 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 15:19:45.239 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 15:19:46.529 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:19:46.530 +04:00  INF  controller is executed
2024-04-08 15:19:47.447 +04:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 15:19:47.593 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 15:19:47.603 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 2356.3999ms
2024-04-08 15:19:47.604 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 15:19:47.606 +04:00  INF  HTTP GET /api/Comment responded 200 in 2425.9205 ms
2024-04-08 15:19:47.614 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 2441.2838ms
2024-04-08 15:20:50.779 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:20:51.502 +04:00  INF  Executed DbCommand (211ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Forum];
2024-04-08 15:20:51.570 +04:00  INF  Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Forum] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-04-08 15:20:51.597 +04:00  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 15:20:51.762 +04:00  INF  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-04-08 15:20:51.765 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-08 15:20:51.798 +04:00  INF  Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-08 15:20:51.805 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-08 15:20:51.828 +04:00  INF  Applying migration '20240408111735_Init'.
2024-04-08 15:20:51.899 +04:00  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Username] varchar(50) NOT NULL,
    [Email] varchar(50) NOT NULL,
    [Gender] bit NOT NULL,
    [Password] varchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-08 15:20:51.901 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Topics] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Content] nvarchar(200) NOT NULL,
    [NumberOfComments] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [State] int NOT NULL,
    [Status] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Topics] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Topics_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-08 15:20:51.904 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(200) NOT NULL,
    [UserId] int NOT NULL,
    [TopicId] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_Topics_TopicId] FOREIGN KEY ([TopicId]) REFERENCES [Topics] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-04-08 15:20:51.905 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_TopicId] ON [Comments] ([TopicId]);
2024-04-08 15:20:51.905 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_UserId] ON [Comments] ([UserId]);
2024-04-08 15:20:51.906 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Topics_UserId] ON [Topics] ([UserId]);
2024-04-08 15:20:51.907 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2024-04-08 15:20:51.908 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2024-04-08 15:20:51.911 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240408111735_Init', N'6.0.28');
2024-04-08 15:37:11.070 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 15:37:11.099 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 15:37:11.129 +04:00  INF  Hosting environment: Development
2024-04-08 15:37:11.130 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 15:37:11.447 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 350.6817ms
2024-04-08 15:37:11.450 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 15:37:11.461 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 9.6498ms
2024-04-08 15:37:11.466 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 15:37:11.533 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.2476ms
2024-04-08 15:37:11.632 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 15:37:11.803 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.1304ms
2024-04-08 15:37:15.142 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Comment - -
2024-04-08 15:37:15.149 +04:00  INF  Logging request from middleware
2024-04-08 15:37:15.159 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 11:37:15 AM

2024-04-08 15:37:15.161 +04:00  INF  Logging response from middleware
2024-04-08 15:37:15.161 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 11:37:15 AM

2024-04-08 15:37:15.170 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 15:37:15.211 +04:00  INF  Route matched with {action = "GetAll", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Comments.Responses.CommentResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 15:37:16.503 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:37:16.505 +04:00  INF  controller is executed
2024-04-08 15:37:17.351 +04:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
FROM [Comments] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2024-04-08 15:37:17.496 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Comments.Responses.CommentResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 15:37:17.506 +04:00  INF  Executed action Forum.API.Controllers.CommentController.GetAll (Forum.API) in 2288.4901ms
2024-04-08 15:37:17.507 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.GetAll (Forum.API)'
2024-04-08 15:37:17.510 +04:00  INF  HTTP GET /api/Comment responded 200 in 2361.3191 ms
2024-04-08 15:37:17.517 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Comment - - - 200 - application/json;+charset=utf-8 2374.6418ms
2024-04-08 15:37:21.997 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Topic - -
2024-04-08 15:37:21.999 +04:00  INF  Logging request from middleware
2024-04-08 15:37:22.000 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 11:37:22 AM

2024-04-08 15:37:22.000 +04:00  INF  Logging response from middleware
2024-04-08 15:37:22.000 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 11:37:22 AM

2024-04-08 15:37:22.000 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 15:37:22.007 +04:00  INF  Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Topics.Responses.TopicResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 15:37:22.072 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:37:22.073 +04:00  INF  controller is executed
2024-04-08 15:37:22.189 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId], [t0].[Id], [t0].[Content], [t0].[IsDeleted], [t0].[TopicId], [t0].[UserId], [t0].[Id0], [t0].[Email], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[Password], [t0].[Username]
FROM [Topics] AS [t]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t0] ON [t].[Id] = [t0].[TopicId]
ORDER BY [t].[Id], [t0].[Id]
2024-04-08 15:37:22.202 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Topics.Responses.TopicResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 15:37:22.206 +04:00  INF  Executed action Forum.API.Controllers.TopicController.GetAll (Forum.API) in 198.7056ms
2024-04-08 15:37:22.206 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 15:37:22.206 +04:00  INF  HTTP GET /api/Topic responded 200 in 206.7725 ms
2024-04-08 15:37:22.207 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Topic - - - 200 - application/json;+charset=utf-8 209.3487ms
2024-04-08 15:59:59.778 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Topic application/json 156
2024-04-08 15:59:59.779 +04:00  INF  Logging request from middleware
2024-04-08 15:59:59.779 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 11:59:59 AM

2024-04-08 15:59:59.779 +04:00  INF  Logging response from middleware
2024-04-08 15:59:59.779 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 11:59:59 AM

2024-04-08 15:59:59.779 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 15:59:59.785 +04:00  INF  Route matched with {action = "Post", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Topics.Requests.TopicRequestPostModel) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 15:59:59.798 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 15:59:59.798 +04:00  INF  controller is executed
2024-04-08 16:00:00.177 +04:00  INF  Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Topics] ([Content], [Created], [NumberOfComments], [State], [Status], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Topics]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:00:00.263 +04:00  INF  Executed action Forum.API.Controllers.TopicController.Post (Forum.API) in 478.4853ms
2024-04-08 16:00:00.263 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.Post (Forum.API)'
2024-04-08 16:00:00.264 +04:00  INF  HTTP POST /api/Topic responded 200 in 484.8349 ms
2024-04-08 16:00:00.265 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Topic application/json 156 - 200 - - 486.3457ms
2024-04-08 16:00:35.093 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 58
2024-04-08 16:00:35.093 +04:00  INF  Logging request from middleware
2024-04-08 16:00:35.093 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 12:00:35 PM

2024-04-08 16:00:35.093 +04:00  INF  Logging response from middleware
2024-04-08 16:00:35.093 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:00:35 PM

2024-04-08 16:00:35.093 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:00:35.099 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 16:00:35.100 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:00:35.101 +04:00  INF  controller is executed
2024-04-08 16:00:35.140 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:00:35.146 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 47.0203ms
2024-04-08 16:00:35.146 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:00:35.147 +04:00  INF  HTTP POST /api/Comment responded 200 in 53.3625 ms
2024-04-08 16:00:35.147 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Comment application/json 58 - 200 - - 54.2135ms
2024-04-08 16:22:02.457 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 16:22:02.487 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 16:22:02.512 +04:00  INF  Hosting environment: Development
2024-04-08 16:22:02.512 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 16:22:02.814 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 334.8201ms
2024-04-08 16:22:02.819 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 16:22:02.819 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 16:22:02.823 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 4.1779ms
2024-04-08 16:22:02.870 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.5457ms
2024-04-08 16:22:03.068 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 16:22:03.218 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.8307ms
2024-04-08 16:22:26.349 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 56
2024-04-08 16:22:26.356 +04:00  INF  Logging request from middleware
2024-04-08 16:22:26.369 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 12:22:26 PM

2024-04-08 16:22:26.371 +04:00  INF  Logging response from middleware
2024-04-08 16:22:26.371 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:22:26 PM

2024-04-08 16:22:26.379 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:22:26.423 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 16:22:27.733 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:22:27.734 +04:00  INF  controller is executed
2024-04-08 16:22:28.601 +04:00  INF  Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:22:29.272 +04:00  INF  Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Content], [t0].[Created], [t0].[NumberOfComments], [t0].[State], [t0].[Status], [t0].[Title], [t0].[UserId], [t1].[Id], [t1].[Content], [t1].[IsDeleted], [t1].[TopicId], [t1].[UserId], [t1].[Id0], [t1].[Email], [t1].[FirstName], [t1].[Gender], [t1].[LastName], [t1].[Password], [t1].[Username]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId]
    FROM [Topics] AS [t]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TopicId]
ORDER BY [t0].[Id], [t1].[Id]
2024-04-08 16:22:29.378 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 2947.2893ms
2024-04-08 16:22:29.379 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:22:29.382 +04:00  INF  HTTP POST /api/Comment responded 200 in 3026.8173 ms
2024-04-08 16:22:29.389 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Comment application/json 56 - 200 - - 3040.0928ms
2024-04-08 16:22:36.441 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/api/Topic - -
2024-04-08 16:22:36.443 +04:00  INF  Logging request from middleware
2024-04-08 16:22:36.443 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method GET
Path /api/Topic
IsSeccured True
QueryString 
Time 4/8/2024 12:22:36 PM

2024-04-08 16:22:36.443 +04:00  INF  Logging response from middleware
2024-04-08 16:22:36.443 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:22:36 PM

2024-04-08 16:22:36.444 +04:00  INF  Executing endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 16:22:36.449 +04:00  INF  Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Forum.Application.Topics.Responses.TopicResponseModel]] GetAll(System.Threading.CancellationToken) on controller Forum.API.Controllers.TopicController (Forum.API).
2024-04-08 16:22:36.511 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:22:36.512 +04:00  INF  controller is executed
2024-04-08 16:22:36.561 +04:00  INF  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId], [t0].[Id], [t0].[Content], [t0].[IsDeleted], [t0].[TopicId], [t0].[UserId], [t0].[Id0], [t0].[Email], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[Password], [t0].[Username]
FROM [Topics] AS [t]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t0] ON [t].[Id] = [t0].[TopicId]
ORDER BY [t].[Id], [t0].[Id]
2024-04-08 16:22:36.579 +04:00  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Forum.Application.Topics.Responses.TopicResponseModel, Forum.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-08 16:22:36.591 +04:00  INF  Executed action Forum.API.Controllers.TopicController.GetAll (Forum.API) in 141.2838ms
2024-04-08 16:22:36.591 +04:00  INF  Executed endpoint 'Forum.API.Controllers.TopicController.GetAll (Forum.API)'
2024-04-08 16:22:36.591 +04:00  INF  HTTP GET /api/Topic responded 200 in 148.4253 ms
2024-04-08 16:22:36.592 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/api/Topic - - - 200 - application/json;+charset=utf-8 150.5680ms
2024-04-08 16:40:28.015 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 16:40:28.048 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 16:40:28.076 +04:00  INF  Hosting environment: Development
2024-04-08 16:40:28.076 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 16:40:28.384 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 341.4978ms
2024-04-08 16:40:28.387 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 16:40:28.387 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 16:40:28.392 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 4.6343ms
2024-04-08 16:40:28.439 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.0700ms
2024-04-08 16:40:28.616 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 16:40:28.764 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.4376ms
2024-04-08 16:40:49.584 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 58
2024-04-08 16:40:49.592 +04:00  INF  Logging request from middleware
2024-04-08 16:40:49.602 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 12:40:49 PM

2024-04-08 16:40:49.603 +04:00  INF  Logging response from middleware
2024-04-08 16:40:49.603 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:40:49 PM

2024-04-08 16:40:49.611 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:40:49.650 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 16:40:50.953 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:40:50.957 +04:00  INF  controller is executed
2024-04-08 16:40:51.777 +04:00  INF  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:40:52.410 +04:00  INF  Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Content], [t0].[Created], [t0].[NumberOfComments], [t0].[State], [t0].[Status], [t0].[Title], [t0].[UserId], [t1].[Id], [t1].[Content], [t1].[IsDeleted], [t1].[TopicId], [t1].[UserId], [t1].[Id0], [t1].[Email], [t1].[FirstName], [t1].[Gender], [t1].[LastName], [t1].[Password], [t1].[Username]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId]
    FROM [Topics] AS [t]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TopicId]
ORDER BY [t0].[Id], [t1].[Id]
2024-04-08 16:40:52.555 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 2897.3697ms
2024-04-08 16:40:52.557 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:40:52.560 +04:00  ERR  HTTP POST /api/Comment responded 500 in 2968.5053 msSystem.InvalidOperationException: The instance of entity type 'Topic' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at Forum.Infrastructure.BaseRepository`1.UpdateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 39
   at Forum.Infrastructure.Topics.TopicRepository.UpdateAsync(CancellationToken cancellationToken, Topic topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 30
   at Forum.Application.Topics.TopicService.UpdateAsync(CancellationToken cancellationToken, TopicRequestPutModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 39
   at Forum.Application.Comments.CommentService.CreateAsync(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 47
   at Forum.API.Controllers.CommentController.Post(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 40
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 16:40:52.896 +04:00  INF  Request finished HTTP/2 POST https://localhost:44389/api/Comment application/json 58 - 500 - application/json 3312.1272ms
2024-04-08 16:41:15.205 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 16:41:15.243 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 16:41:15.281 +04:00  INF  Hosting environment: Development
2024-04-08 16:41:15.283 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 16:41:15.827 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 16:41:15.835 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 16:41:15.842 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 600.4835ms
2024-04-08 16:41:15.863 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 30.9595ms
2024-04-08 16:41:15.990 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 154.6205ms
2024-04-08 16:41:16.158 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 16:41:16.448 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 290.0000ms
2024-04-08 16:41:24.455 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 56
2024-04-08 16:41:24.469 +04:00  INF  Logging request from middleware
2024-04-08 16:41:24.480 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 12:41:24 PM

2024-04-08 16:41:24.481 +04:00  INF  Logging response from middleware
2024-04-08 16:41:24.481 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:41:24 PM

2024-04-08 16:41:24.492 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:41:24.554 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 16:41:26.639 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:41:26.641 +04:00  INF  controller is executed
2024-04-08 16:41:44.687 +04:00  INF  Executed DbCommand (162ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:41:58.452 +04:00  INF  Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Content], [t0].[Created], [t0].[NumberOfComments], [t0].[State], [t0].[Status], [t0].[Title], [t0].[UserId], [t1].[Id], [t1].[Content], [t1].[IsDeleted], [t1].[TopicId], [t1].[UserId], [t1].[Id0], [t1].[Email], [t1].[FirstName], [t1].[Gender], [t1].[LastName], [t1].[Password], [t1].[Username]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId]
    FROM [Topics] AS [t]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TopicId]
ORDER BY [t0].[Id], [t1].[Id]
2024-04-08 16:42:40.451 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 75886.4943ms
2024-04-08 16:42:40.456 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:42:40.735 +04:00  ERR  HTTP POST /api/Comment responded 500 in 76264.7241 msSystem.InvalidOperationException: The instance of entity type 'Topic' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at Forum.Infrastructure.BaseRepository`1.UpdateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 39
   at Forum.Infrastructure.Topics.TopicRepository.UpdateAsync(CancellationToken cancellationToken, Topic topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 30
   at Forum.Application.Topics.TopicService.UpdateAsync(CancellationToken cancellationToken, TopicRequestPutModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 39
   at Forum.Application.Comments.CommentService.CreateAsync(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 47
   at Forum.API.Controllers.CommentController.Post(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 40
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-04-08 16:43:42.595 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-04-08 16:43:42.629 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -
2024-04-08 16:43:42.675 +04:00  INF  Hosting environment: Development
2024-04-08 16:43:42.676 +04:00  INF  Content root path: C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\
2024-04-08 16:43:43.252 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - -
2024-04-08 16:43:43.252 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/_vs/browserLink - -
2024-04-08 16:43:43.255 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 633.7035ms
2024-04-08 16:43:43.301 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_framework/aspnetcore-browser-refresh.js - - - 200 13754 application/javascript;+charset=utf-8 46.3193ms
2024-04-08 16:43:43.412 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 159.7430ms
2024-04-08 16:43:43.490 +04:00  INF  Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -
2024-04-08 16:43:43.779 +04:00  INF  Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 289.3073ms
2024-04-08 16:43:57.109 +04:00  INF  Request starting HTTP/2 POST https://localhost:44389/api/Comment application/json 56
2024-04-08 16:43:57.122 +04:00  INF  Logging request from middleware
2024-04-08 16:43:57.134 +04:00  INF  
 logged from middleware 
IP: ::1
Address https
Method POST
Path /api/Comment
IsSeccured True
QueryString 
Time 4/8/2024 12:43:57 PM

2024-04-08 16:43:57.135 +04:00  INF  Logging response from middleware
2024-04-08 16:43:57.136 +04:00  INF  
 logged from middleware 
IP: ::1
Body Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream
Status 200
Time 4/8/2024 12:43:57 PM

2024-04-08 16:43:57.147 +04:00  INF  Executing endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:43:57.200 +04:00  INF  Route matched with {action = "Post", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task Post(System.Threading.CancellationToken, Forum.Application.Comments.Requests.CommentRequestPostModel) on controller Forum.API.Controllers.CommentController (Forum.API).
2024-04-08 16:43:59.272 +04:00  INF  Entity Framework Core 6.0.28 initialized 'ForumContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-08 16:43:59.273 +04:00  INF  controller is executed
2024-04-08 16:44:08.964 +04:00  INF  Executed DbCommand (149ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Comments] ([Content], [IsDeleted], [TopicId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-04-08 16:44:16.182 +04:00  INF  Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Content], [t0].[Created], [t0].[NumberOfComments], [t0].[State], [t0].[Status], [t0].[Title], [t0].[UserId], [t1].[Id], [t1].[Content], [t1].[IsDeleted], [t1].[TopicId], [t1].[UserId], [t1].[Id0], [t1].[Email], [t1].[FirstName], [t1].[Gender], [t1].[LastName], [t1].[Password], [t1].[Username]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Content], [t].[Created], [t].[NumberOfComments], [t].[State], [t].[Status], [t].[Title], [t].[UserId]
    FROM [Topics] AS [t]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [c].[Id], [c].[Content], [c].[IsDeleted], [c].[TopicId], [c].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[FirstName], [u].[Gender], [u].[LastName], [u].[Password], [u].[Username]
    FROM [Comments] AS [c]
    INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TopicId]
ORDER BY [t0].[Id], [t1].[Id]
2024-04-08 16:45:11.320 +04:00  INF  Executed action Forum.API.Controllers.CommentController.Post (Forum.API) in 74108.31ms
2024-04-08 16:45:11.325 +04:00  INF  Executed endpoint 'Forum.API.Controllers.CommentController.Post (Forum.API)'
2024-04-08 16:45:11.616 +04:00  ERR  HTTP POST /api/Comment responded 500 in 74491.6157 msSystem.InvalidOperationException: The instance of entity type 'Topic' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at Forum.Infrastructure.BaseRepository`1.UpdateAsync(CancellationToken cancellationToken, T entity) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\BaseRepository.cs:line 39
   at Forum.Infrastructure.Topics.TopicRepository.UpdateAsync(CancellationToken cancellationToken, Topic topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Infrastructure\Topics\TopicRepository.cs:line 30
   at Forum.Application.Topics.TopicService.UpdateAsync(CancellationToken cancellationToken, TopicRequestPutModel topic) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Topics\TopicService.cs:line 39
   at Forum.Application.Comments.CommentService.CreateAsync(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum.Application\Comments\CommentService.cs:line 47
   at Forum.API.Controllers.CommentController.Post(CancellationToken cancellationToken, CommentRequestPostModel comment) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Controllers\CommentController.cs:line 40
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Forum.API.Infrastructure.Middlewares.RequestResponseLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Kiuadmin\source\repos\AnaAvkopashvili\Forum\Forum\Forum\Infrastructure\Middlewares\RequestResponseLoggingMiddleware.cs:line 18
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

